webpackJsonp([1],{1021:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-2.4 120.9 14 14" width="14" height="14" enable-background="new -2.4 120.9 600 600"><path d="M-2.4 120.9v14h14v-14zm3.34 2.123l3.66 3.66 3.66-3.66 1.217 1.22-3.66 3.658 3.66 3.66-1.22 1.22-3.658-3.66-3.66 3.66-1.22-1.22 3.66-3.66-3.66-3.66z"/></svg>'},1129:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path d="M1 0v1h11V0H1zm11 1v11h1V1h-1zm0 11H1v1h11v-1zM1 12V1H0v11h1zM6 2v4H2v1h4v4h1V7h4V6H7V2H6z"/></svg>'},1130:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path d="M1 0v1h11V0H1zm11 1v11h1V1h-1zm0 11H1v1h11v-1zM1 12V1H0v11h1zm1-6v1h9V6H2z"/></svg>'},1131:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M0 0v14h14V0zm7 2.69c3.018 0 5.172 3.232 5.172 4.31 0 1.077-2.154 4.31-5.172 4.31S1.828 8.08 1.828 7c0-1.077 2.154-4.31 5.172-4.31zm0 1.508C5.49 4.198 4.198 5.49 4.198 7S5.49 9.802 7 9.802 9.802 8.51 9.802 7 8.51 4.198 7 4.198zm0 1.68c.646 0 1.12.476 1.12 1.122 0 .646-.473 1.12-1.12 1.12-.646 0-1.12-.473-1.12-1.12 0-.646.473-1.12 1.12-1.12z"/></svg>'},1132:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-2.4 120.9 14 14" width="14" height="14" enable-background="new -2.4 120.9 600 600"><path d="M-2.4 120.9v14h14v-14zm6.086 1.803H5.52v1.332c.416.1.805.258 1.166.48l.944-.935 1.297 1.297-.943.943c.215.35.38.748.48 1.164H9.8v1.837H8.463c-.1.417-.257.806-.48 1.167l.935.944-1.296 1.298-.944-.943c-.35.215-.747.38-1.164.48v1.332H3.677v-1.33c-.415-.102-.804-.258-1.165-.482l-.943.936-1.298-1.296.94-.945c-.216-.35-.38-.748-.482-1.165H-.597v-1.835H.737c.1-.416.257-.805.48-1.166l-.935-.944 1.296-1.297.944.943c.35-.215.747-.38 1.164-.48zm.912 3.053c-1.188 0-2.143.963-2.143 2.143 0 1.187.963 2.143 2.143 2.143 1.18 0 2.14-.963 2.145-2.145 0-1.188-.966-2.144-2.145-2.144z"/></svg>'},1133:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M0 0v14h14V0zm7 2l2.8 3H8v6H6V5H4.2z"/></svg>'},1134:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M14 14V0H0v14zm-7-2L4.2 9H6V3h2v6h1.8z"/></svg>'},1135:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M0 0v14h14V0zm7 1l2.8 3H8v2.5H6V4H4.2zM6 7.5h2V10h1.8L7 13l-2.8-3H6z"/></svg>'},1136:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M0 0v14h14V0H0zm6 1.5h2V4h1.8L7 7l2.8 3H8v2.5H6V10H4.2L7 7 4.2 4H6V1.5z"/></svg>'},1159:function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){
for(var e=this;e&&1===e.nodeType;e=e.parentNode)if(e.matches(t))return e;return null})},1160:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M2 7h10"/></svg>'},1161:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 18" width="14" height="18"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path d="M1 10a6 6 0 1 0 6-6H3"/><path d="M5 1L2.5 4 5 7"/></g></svg>'},1162:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 2v10M2 7h10"/></svg>'},1163:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.5 1.5l5 5.5-5 5.5M3 4l2.5 3L3 10"/></svg>'},1164:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 7" width="9" height="7"><path fill="currentColor" d="M.5 3.5L4 0v3h5v1H4v3z"/></svg>'},1165:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 7" width="9" height="7"><path fill="currentColor" d="M8.5 3.5L5 0v3H0v1h5v3z"/></svg>'},1166:function(t,e){},796:function(t,e,i){"use strict";(function(t){function n(t,e,i,n){var s,o;this._options=Object.assign({},h,n),this._model=e,this._paneWidget=t,this._chart=t._chart,this.$el=$(document.createElement("div")).addClass("pane-legend"),this._itemsBinding=[],this._mouseEventHandlers=[],this._chart.properties().paneProperties.legendProperties.showStudyTitles.listeners().subscribe(this,this.updateLayout),this._chart.properties().paneProperties.legendProperties.showSeriesTitle.listeners().subscribe(this,this.updateLayout),this._chart.properties().paneProperties.legendProperties.showSeriesOHLC.listeners().subscribe(this,this.updateLayout),this._chart.properties().paneProperties.legendProperties.showStudyValues.listeners().subscribe(this,this.updateLayout),s=this._chart.properties().scalesProperties.textColor,s.listeners().subscribe(this,function(t){this.$el.css("color",t.value())}),this.$el.css("color",s.value()),o=this._chart.properties().paneProperties.legendProperties.showLegend,o.subscribe(this,this.updateLayout),this.updateLayout()}var s=(i(33).Study,i(36).trackEvent),o=(i(4).getLogger("Chart.LegendWidget"),i(29)),a=i(194).showEditObjectDialog,l=i(47).IS_RTL,r=i(106).MouseEventHandler,h={contextMenuEnabled:!0,sourceSelectionEnabled:!0,symbolMarkerEnabled:!1};n.prototype.destroy=function(){this._removeMouseEventHandlers(),this._chart.properties().paneProperties.legendProperties.showLegend.unsubscribeAll(this)},n.prototype.contextMenuEvent=function(t,e){if(!this._model.chartModel().readOnly()&&this._options.contextMenuEnabled){var i=e.source;this._paneWidget.showContextMenuForSource(i,t)}},n.prototype._removeMouseEventHandlers=function(){
this._mouseEventHandlers.forEach(function(t){t.destroy()}),this._mouseEventHandlers=[]},n.prototype.updateLayout=function(){var e,n,s,o,a,l,h,d,u,c,p;if(this._removeMouseEventHandlers(),this._itemsBinding.length=0,this.$el.find(".apply-common-tooltip").trigger("mouseleave"),this.$el.empty(),(e=this._paneWidget.state())&&this._model){for(n={showStudyTitles:this._model.model().properties().paneProperties.legendProperties.showStudyTitles.value(),showSeriesTitle:this._chart.properties().paneProperties.legendProperties.showSeriesTitle.value(),showSeriesOHLC:this._chart.properties().paneProperties.legendProperties.showSeriesOHLC.value(),showStudyValues:this._chart.properties().paneProperties.legendProperties.showStudyValues.value(),showLegend:this._model.model().properties().paneProperties.legendProperties.showLegend.value()},s=this._model.mainSeries(),o=e.orderedSources().slice(),a=o.indexOf(s),a>-1&&(o.splice(a,1),o.push(s)),l=o.length-1;l>=0;l--)h=o[l],(d=h.statusView())&&(!(u=h===s)||n.showSeriesTitle||n.showSeriesOHLC||n.showStudyTitles||n.showStudyValues)&&(u&&t.enabled("fundamental_widget")||(n.showLegend||!u?(u||n.showStudyTitles||n.showStudyValues)&&n.showLegend&&(c=$("<div>").addClass("pane-legend-line pane-legend-wrap"),this._options.sourceSelectionEnabled||c.addClass("legend-selection-disabled"),c.appendTo(this.$el),c.source=h,u?this._chartHasStudies()?(p=$('<a class="pane-legend-minbtn apply-common-tooltip apply" title="'+$.t("Hide")+'"></a>').append($(i(1130)).attr({class:"expand"})),c.addClass("main").append(p.on("click touchend",this.toggleTitles.bind(this)))):c.addClass("pane-legend-line--without-child-studies"):c.addClass("study"),h.properties().visible.value()||c.addClass("disabled"),this._generateItemsForRow(c,d,n),this._mouseEventHandlers.push(new r(c,this,!0))):this.$el.find(".expand-line").length||(c=$("<div>").addClass("pane-legend-line pane-legend-wrap main expand-line"),this._options.sourceSelectionEnabled||c.addClass("legend-selection-disabled"),c.appendTo(this.$el),this._chartHasStudies()?(p=$('<a class="pane-legend-minbtn apply-common-tooltip apply" title="'+$.t("Show")+'"></a>').append($(i(1129)).attr({class:"expand closed"})),c.append(p.on("click touchend",this.toggleTitles.bind(this)))):c.addClass("pane-legend-line--without-child-studies"),c.source=h,h.properties().visible.value()||c.addClass("disabled"),n={showStudyTitles:!1,showSeriesTitle:n.showSeriesTitle,showSeriesOHLC:n.showSeriesOHLC,showStudyValues:!1},this._generateItemsForRow(c,d,n),this._mouseEventHandlers.push(new r(c,this,!0)),this.update())));this.update()}},n.prototype._chartHasStudies=function(){return this._model.model().allStudies().some(function(t){return t.statusView()})},n.prototype._generateItemsForRow=function(e,n,s){var o,a,r,h,d,u,c,p,_,v,m,g=e.source,b=this,y=g===this._model.mainSeries();if((y&&s.showSeriesTitle||!y&&s.showStudyTitles)&&(a=$("<span>"),a.addClass("pane-legend-line apply-overflow-tooltip"),this._options.contextMenuEnabled&&!this._chart.readOnly()||a.addClass("no-context-menu"),
this._options.sourceSelectionEnabled||a.addClass("legend-selection-disabled"),y&&a.addClass("main"),g.properties().visible.value()||a.addClass("disabled"),a.css({"font-weight":n.bold()?"bold":"normal","font-size":n.size()}),this._options.contextMenuEnabled&&a.click(function(t){b.contextMenuEvent(t,e)}),a.appendTo(e),this._itemsBinding.push({value:n,cell:a,source:e.source}),!this._chart.readOnly()&&g.userEditEnabled()&&t.enabled("edit_buttons_in_legend")&&(o=$('<span class="pane-legend-icon-container">'),l||o.appendTo(e),!y&&t.enabled("show_hide_button_in_legend")&&$('<a class="pane-legend-icon apply-common-tooltip icon-hide" title="'+$.t("Show/Hide")+'">').append($(i(1131)).attr({width:14,height:14})).appendTo(o).on("click touchend",this._generateItemsForRow._onShowhideClick.bind(this,g)),!y&&t.enabled("property_pages")&&t.enabled("format_button_in_legend")&&$('<a class="pane-legend-icon apply-common-tooltip format" title="'+$.t("Format")+'">').append($(i(1132)).attr({width:14,height:14})).appendTo(o).on("click touchend",this._generateItemsForRow._onFormatClick.bind(this,g)),!y&&t.enabled("delete_button_in_legend")&&$('<a class="pane-legend-icon apply-common-tooltip delete" title="'+$.t("Delete")+'">').append($(i(1021)).attr({width:14,height:14})).appendTo(o).on("click touchend",this._generateItemsForRow._onDeleteClick.bind(this,g)))),r=g.dataWindowView(),this.isDataWindowValuesVisible(r)&&(y&&s.showSeriesOHLC||!y&&s.showStudyValues)){for(h=[],d=[],u=$('<div class="pane-legend-item-value-container">'),this._options.contextMenuEnabled||u.addClass("no-context-menu"),this._options.sourceSelectionEnabled||u.addClass("legend-selection-disabled"),c=0;c<r.items().length;c++)p=$("<span class='pane-legend-item-value-wrap'>").appendTo(u),_=y?$("<span class='pane-legend-item-value-title pane-legend-line'>").appendTo(p):null,v=$("<span class='pane-legend-item-value pane-legend-line'>").appendTo(p),y&&(_.addClass("pane-legend-item-value-title__main"),v.addClass("pane-legend-item-value__main")),g.properties().visible.value()||(v.addClass("disabled"),_&&_.addClass("disabled")),h.push(v),_&&d.push(_);m=$("<span class='pane-legend-item-additional pane-legend-line'>").appendTo(u.appendTo(e)),this._itemsBinding.push({value:r,cell:h,titleCells:d.length?d:null,source:g,additional:m})}o&&l&&o.appendTo(e)},n.prototype.isDataWindowValuesVisible=function(t){return this._chart.onWidget()?!!t&&!this._chart.isSmall():!!t},n.prototype._generateItemsForRow._onShowhideClick=function(t){this._model.setProperty(t.properties().visible,!t.properties().visible.value(),"Show/Hide "+t.title())},n.prototype._generateItemsForRow._onFormatClick=function(t,e){t.userEditEnabled()&&(TVSettings.setValue("properties_dialog.active_tab.chart",$.t("Style")),a(t,this._model))},n.prototype._generateItemsForRow._onDeleteClick=function(t){t.isUserDeletable()&&(t.hasChildren()?showDeleteStudyTreeConfirm(this._model.removeSource.bind(this._model,t)):this._model.removeSource(t))},n.prototype._generateItemsForRow._onAddChildSourceClick=function(t){
var e,i,n=this._chart.showIndicators(t);n&&(e=function(){s("SOS","Apply SOS","Apply by Plus SOS")},i=this._model.model().studyInserted(),i.subscribe(this,e),n.visibilityChanged.subscribe(this,function(t){t||i.unsubscribe(this,e)},!0))},n.prototype._generateItemsForRow._onViewSorceClick=function(t){var e=t.metaInfo();this._getPineSourceCode(e).done(function(t){TradingView.bottomWidgetBar&&TradingView.bottomWidgetBar.activateScriptEditorTab(t)})},n.prototype._getPineSourceCode=function(t){return $.Deferred()},n.prototype.setItemEnabled=function(t,e){var i=!t.hasClass("disabled"),n=t.closest(".pane-legend-wrap");e&&!i?(t.removeClass("disabled"),n.removeClass("disabled")):!e&&i&&(t.addClass("disabled"),n.addClass("disabled"))},n.prototype.valueChanged=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},n.prototype.firstTitle=function(){return this.$el.find(".pane-legend-line.pane-legend-wrap:first-child")},n.prototype.updateTitle=function(){var e,i,n,s,o,a,l,r,h,d,u,c,p;for(n=this._itemsBinding.length;n--;)i=this._itemsBinding[n],Array.isArray(i.cell)||(i.last||(i.last={}),s=i.last,o=i.source,e=o.properties().visible.value(),this.valueChanged(s,"sourceVisible",e)&&this.setItemEnabled(i.cell,e),a=i.value.color(),l=o!==this._model.mainSeries()&&o===this._model.selectedSource()?"bold":"normal","function"==typeof i.value.getSplitTitle?(u=i.value.getSplitTitle(),r=u[0].trim(),h=u[1].trim(),d=u[2].trim()):(r=i.value.text().trim(),h="",d=""),t.enabled("fundamental_widget")&&(c=this._model.mainSeries(),p=c.symbolInfo(),r=(p?p.name:c.actualSymbol())+" "+r),i.isCellInited||(i.isCellInited=!0,d||h?(i.titleElement=document.createElement("div"),i.titleElement.classList.add("pane-legend-title__container"),i.cell[0].appendChild(i.titleElement),i.descriptionElement=document.createElement("div"),i.descriptionElement.classList.add("pane-legend-title__description"),i.titleElement.appendChild(i.descriptionElement),h&&(i.intervalElement=document.createElement("div"),i.intervalElement.classList.add("pane-legend-title__interval"),i.titleElement.appendChild(i.intervalElement)),d&&(i.detailsElement=document.createElement("div"),i.detailsElement.classList.add("pane-legend-title__details"),i.titleElement.appendChild(i.detailsElement)),i.titleElement.classList.add("apply-overflow-tooltip","apply-overflow-tooltip--allow-text","apply-overflow-tooltip--check-children")):(i.titleElement=i.cell[0],i.descriptionElement=i.titleElement,i.descriptionElement.classList.add("apply-overflow-tooltip"))),(this.valueChanged(s,"color",a)||this.valueChanged(s,"fontWeight",l))&&(i.titleElement.style.color=a,i.titleElement.style.borderColor=a,i.titleElement.style.fontWeight=l),r!==i.description&&(i.descriptionElement.textContent=TradingView.clean(r,!0),i.description=r),i.intervalElement&&h&&h!==i.interval&&(i.intervalElement.textContent=TradingView.clean(h,!0),i.interval=h),i.detailsElement&&d&&d!==i.details&&(i.detailsElement.textContent=TradingView.clean(d,!0),i.details=d));this._chart.resizeIndicator()},n.prototype.update=function(t){var e,i,n,s,a,l,r,h,d,u,c
;for(this.updateTitle(),h=this._itemsBinding.length;h--;)if(s=this._itemsBinding[h],e=s.cell,i=s.titleCells,n=s.source.properties().visible.value(),Array.isArray(e)){for(s.last||(s.last={},s.last.dwView||(s.last.dwView={})),d=s.last,a=s.value.items(),u=this.valueChanged(d,"sourceVisible",n),l=0;l<e.length;l++)r=a[l],d[l]||(d[l]={}),u&&this.setItemEnabled(e[l],n),this.valueChanged(d[l],"text",r.text())&&(e[l][0].textContent=r.text()),r.color()&&this.valueChanged(d[l],"color",r.color())&&e[l].css("color",o.resetTransparency(r.color())),i&&(this.valueChanged(d[l],"sourceVisible",n)&&this.setItemEnabled(i[l],n),this.valueChanged(d[l],"title",r.title())&&(i[l][0].textContent=r.title()));s.additional&&(c=void 0!==s.value.additional&&s.value.additional.length>0,s.additional.toggleClass("i-hidden",!c),c&&this.valueChanged(d,"additional",s.value.additional())&&s.additional.text(s.value.additional()||""))}this._chart.resizeIndicator()},n.prototype.dataSourceAtPoint=function(t,e){return null},n.prototype.renderTo=function(t,e,i){var n,s,o,a,l,r,h;for(t.save(),t.fillStyle=this._chart.properties().scalesProperties.textColor.value(),t.textBaseline="middle",n=0,s=0;s<this._itemsBinding.length;++s)o=this._itemsBinding[s],a=o.value,l=o.source===this._model.mainSeries(),r=l?12:8,h=l?25:17,Array.isArray(o.cell)||(t.font=a.size()+" Verdana, Arial",t.fillText(a.text(),e,i+n+r),n+=h);t.restore()},n.prototype.toggleTitles=function(t){var e=this._chart.properties().paneProperties.legendProperties.showLegend;e.setValue(!e.value())},e.LegendWidget=n}).call(e,i(5))},797:function(t,e,i){"use strict";function n(t,e,i){this._model=e,this._paneWidget=t,this._chart=t._chart,this._mainDiv=i,this.jqDiv=$('<div class="pane-controls">'),this._initVisibility(),this.update(),this.jqDiv.appendTo(i)}var s=i(957);n.prototype.update=function(){var t,e,n,s,o,a,l,r=this._paneWidget.state();if(r){if(!this._visible||!this._chart.isActive())return void this.jqDiv[0].classList.add("pane-controls--hidden");if(this.jqDiv[0].classList.remove("pane-controls--hidden"),t=this,e=t._model,n=e.panes().indexOf(r),this.jqDiv.toggleClass("toppane",0===n||this._chart.isMaximizedPane()),s=!1,!r.containsMainSeries()&&!this._chart.isMaximizedPane()){for(o=0,a=r.dataSources(),l=a.length;l--;)if(a[l]instanceof TradingView.Study&&++o>1){s=!0;break}a=null}n>0&&!this._chart.isMaximizedPane()?(this._$upButton||(this._$upButton=$(document.createElement("a")).addClass("pane-legend-icon up").append($(i(1133)).attr({width:14,height:14})).attr("title",$.t("Move Up")).on("click",function(){t._model.rearrangePanes(t._chart,t._model.panes().indexOf(t._paneWidget.state()),"up")})),this._$upButton.appendTo(this.jqDiv)):this._$upButton&&this._$upButton.detach(),n<this._model.panes().length-1&&!this._chart.isMaximizedPane()?(this._$downButton||(this._$downButton=$(document.createElement("a")).addClass("pane-legend-icon down").append($(i(1134)).attr({width:14,height:14})).attr("title",$.t("Move Down")).on("click",function(){
t._model.rearrangePanes(t._chart,t._model.panes().indexOf(t._paneWidget.state()),"down")})),this._$downButton.appendTo(this.jqDiv)):this._$downButton&&this._$downButton.detach(),s?(this._$closeButton||(this._$closeButton=$(document.createElement("a")).addClass("pane-legend-icon delete").append($(i(1021)).attr({width:14,height:14})).attr("title",$.t("Delete")).on("click",function(){t._model.removePane(t._chart,t._model.panes().indexOf(t._paneWidget.state()))})),this._$closeButton.appendTo(this.jqDiv)):this._$closeButton&&this._$closeButton.detach(),this._model.panes().length>1&&!this._chart.isMaximizedPane()?(this._$maximizeButton||(this._$maximizeButton=$(document.createElement("a")).addClass("pane-legend-icon maximize").append($(i(1135)).attr({width:14,height:14})).attr("title",$.t("Toggle Maximize Pane")).on("click",function(){t._chart.toggleMaximizePane(t._paneWidget)})),this._$maximizeButton.appendTo(this.jqDiv)):this._$maximizeButton&&this._$maximizeButton.detach(),this._model.panes().length>1&&this._chart.isMaximizedPane()?(this._$restoreButton||(this._$restoreButton=$(document.createElement("a")).addClass("pane-legend-icon restore").append($(i(1136)).attr({width:14,height:14})).attr("title",$.t("Toggle Maximize Pane")).on("click",function(){t._chart.toggleMaximizePane(t._paneWidget)})),this._$restoreButton.appendTo(this.jqDiv)):this._$restoreButton&&this._$restoreButton.detach()}},n.prototype.destroy=function(){this._visibilityProperty&&(this._visibilityProperty.unsubscribe(this,this._onVisibilityPropertyChange),this._visibilityProperty=null),this._boundMouseHandler&&(this._mainDiv[0].removeEventListener("mouseenter",this._boundMouseHandler,!1),this._mainDiv[0].removeEventListener("mouseleave",this._boundMouseHandler,!1),this._boundMouseHandler=null),this.jqDiv.remove()},n.prototype._initVisibility=function(){this._visible=!0,this._visibilityProperty=s.actualBehavior(),this._visibilityProperty.subscribe(this,this._onVisibilityPropertyChange),this._onVisibilityPropertyChange()},n.prototype._onVisibilityPropertyChange=function(){var t=this._visibilityProperty.value();"alwaysOn"===t||"alwaysOff"===t?(this._visible="alwaysOn"===t,this._boundMouseHandler&&(this._mainDiv[0].removeEventListener("mouseenter",this._boundMouseHandler),this._mainDiv[0].removeEventListener("mouseleave",this._boundMouseHandler),this._boundMouseHandler=null)):(this._boundMouseHandler||(this._boundMouseHandler=this._visibilityMouseHandler.bind(this),this._mainDiv[0].addEventListener("mouseenter",this._boundMouseHandler),this._mainDiv[0].addEventListener("mouseleave",this._boundMouseHandler)),this._visible=!1),this.update()},n.prototype._visibilityMouseHandler=function(t){this._visible="mouseenter"===t.type,this.update()},t.exports=n},799:function(t,e,i){"use strict";var n,s,o,a,l,r,h,d,u,c,p,_,v,m,g,b,y,w,f,M,B,C,x,T,S;Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"ControlBarNavigation",function(){return S}),i(11),n=i(1159),i.n(n),s=i(957),o=i(47),a=i(199),l=i(29),r=i(298),h=i(70),i.n(h),i(36),d=i(855),i.n(d),u=i(1160),i.n(u),
c=i(1161),i.n(c),p=i(1162),i.n(p),_=i(954),i.n(_),v=i(1163),i.n(v),m=i(1164),i.n(m),g=i(1165),i.n(g),b=i(1166),i.n(b),w=Object(r.b)({keys:["Alt","R"],text:"{0} + {1}"}),f=Object(r.b)({keys:[m],text:"{0}"}),M=Object(r.b)({keys:[g],text:"{0}"}),B='<div class="control-bar-wrapper">\n\t<div class="control-bar control-bar--hidden">\n\t\t<div class="control-bar__group js-btn-group js-btn-group-left">\n\t\t\t<div class="control-bar__btn control-bar__btn--zoom-out apply-common-tooltip" title="'+window.t("Zoom Out")+'">\n\t\t\t\t'+u+'\n\t\t\t</div>\n\t\t\t<div class="control-bar__btn control-bar__btn--zoom-in apply-common-tooltip" title="'+window.t("Zoom In")+'">\n\t\t\t\t'+p+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-bar__group js-btn-group js-btn-group-right">\n\t\t\t<div class="control-bar__btn control-bar__btn--move-left apply-common-tooltip" title="'+window.t("Scroll to the Left")+'" data-tooltip-hotkey="'+f+'">\n\t\t\t\t'+d+'\n\t\t\t</div>\n\t\t\t<div class="control-bar__btn control-bar__btn--move-right apply-common-tooltip" title="'+window.t("Scroll to the Right")+'" data-tooltip-hotkey="'+M+'">\n\t\t\t\t'+_+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-bar__btn control-bar__btn--turn-button control-bar__btn--btn-hidden apply-common-tooltip js-btn-reset" title="'+window.t("Reset to Default Settings")+'" data-tooltip-hotkey="'+w+'">\n\t\t\t'+c+"\n\t\t</div>\n\t</div>\n</div>",C='<div class="control-bar control-bar__btn control-bar__btn--back-present control-bar__btn--btn-hidden apply-common-tooltip" title="'+window.t("Scroll to the Most Recent Bar")+'">\n\t'+v+"\n</div>",y={},y.moving="wait_finishing",y.wait_finishing="stop",y.stop="moving",x=y,T="control-bar__btn--btn-hidden",S=function(){function t(t,e){this._back=null,this._backButtonVisible=!1,this._boundKeydownHandler=null,this._boundKeyupHandler=null,this._boundMouseHandler=null,this._chartBackgroundProperty=null,this._chartModel=null,this._checkIntervalId=0,this._controlBar=null,this._controlBarVisible=!1,this._currentDistance=0,this._deferredFinishTimeout=0,this._finishingTimeout=0,this._moveType="",this._movingTimeout=0,this._pressedKey=[],this._priceAxisChanged=null,this._resetAvailabilityChanged=null,this._priceAxisName="",this._rafId=0,this._startTime=0,this._state="stop",this._visibilityTypeProperty=null,this._widget=null,this._btnGroups=null,this._chart=t,this._parent=e,this._init(),this._initHandlers()}return t.prototype.destroy=function(){null!==this._visibilityTypeProperty&&(this._visibilityTypeProperty.unsubscribe(this,this._onVisibilityTypeChange),this._visibilityTypeProperty=null),null!==this._boundMouseHandler&&(this._parent.removeEventListener("mousemove",this._boundMouseHandler,!1),this._parent.removeEventListener("mouseleave",this._boundMouseHandler,!1),this._boundMouseHandler=null),null!==this._boundKeydownHandler&&(this._parent.ownerDocument.removeEventListener("keydown",this._boundKeydownHandler),this._boundKeydownHandler=null),
null!==this._boundKeyupHandler&&(this._parent.ownerDocument.removeEventListener("keyup",this._boundKeyupHandler),this._boundKeyupHandler=null),clearTimeout(this._movingTimeout),null!==this._priceAxisChanged&&(this._priceAxisChanged.unsubscribe(this,this._updateBackBtnPosition),this._priceAxisChanged=null),null!==this._chartBackgroundProperty&&(clearInterval(this._checkIntervalId),this._chartBackgroundProperty.unsubscribe(this,this._updateBgBarStyle),this._chartBackgroundProperty=null),null!==this._resetAvailabilityChanged&&(this._resetAvailabilityChanged.unsubscribe(this,this._updateResetScalesButtonVisibility),this._resetAvailabilityChanged=null),this._chart=null},t.prototype.updatePosition=function(t){null!==this._widget&&null!==this._controlBar&&this._updateBtnGroupVisibility(t)},t.prototype._init=function(){var t,e,i,n=this;if(this._widget=Object(a.a)(B).querySelector(".control-bar-wrapper"),this._back=Object(a.a)(C).querySelector(".control-bar__btn--back-present"),this._controlBar=this._widget.querySelector(".control-bar"),this._btnGroups=Array.from(this._controlBar.querySelectorAll(".js-btn-group")),h.CheckMobile.any())for(t=0,e=this._btnGroups;t<e.length;t++)i=e[t],i.classList.add("js-hidden");this._buttons={zoomIn:this._widget.querySelector(".control-bar__btn--zoom-in"),zoomOut:this._widget.querySelector(".control-bar__btn--zoom-out"),moveLeft:this._widget.querySelector(".control-bar__btn--move-left"),moveRight:this._widget.querySelector(".control-bar__btn--move-right"),turn:this._widget.querySelector(".control-bar__btn--turn-button")},this._updateControlBarPosition(),this._initVisibility(),this._parent.appendChild(this._widget),this._parent.appendChild(this._back),this._backButtonVisible=!1,this._priceAxisName=o.IS_RTL?"left":"right",this._chart.withModel(this,function(){n._chartModel=n._chart.model(),n._priceAxisChanged=n._chart.getPriceAxisWidthChangedByName(n._priceAxisName),n._resetAvailabilityChanged=n._chartModel.model().isScalesResetAvailableChanged(),n._priceAxisChanged.subscribe(n,n._updateBackBtnPosition),n._resetAvailabilityChanged.subscribe(n,n._updateResetScalesButtonVisibility),n._updateBackBtnPosition(),null!==n._back&&n._back.addEventListener("click",function(){null!==n._chartModel&&n._chartModel.timeScale().scrollToRealtime(!0)}),n._checkIntervalId=setInterval(function(){return n._check()},1e3),n._chartBackgroundProperty=n._chartModel.model().properties().paneProperties.background,null!==n._chartBackgroundProperty&&n._chartBackgroundProperty.subscribe(n,n._updateBgBarStyle),n._updateBgBarStyle()})},t.prototype._initHandlers=function(){var t,e,i,n=this,s=Modernizr.touch?"touchstart":"mousedown",o=Modernizr.touch?["touchend"]:["mouseup","mouseout"];for(this._buttons.moveLeft.addEventListener(s,function(t){t.preventDefault(),n._moveByBar(1),n._trackEvent("Move Left")}),this._buttons.moveRight.addEventListener(s,function(t){t.preventDefault(),n._moveByBar(-1),n._trackEvent("Move Right")}),t=0,e=o;t<e.length;t++)i=e[t],this._buttons.moveLeft.addEventListener(i,function(){return n._stopMoveByBar()
}),this._buttons.moveRight.addEventListener(i,function(){return n._stopMoveByBar()});this._buttons.turn.addEventListener("click",function(t){t.preventDefault(),n._chart.GUIResetScales(),n._trackEvent("Reset to Default Settings")}),this._buttons.zoomOut.addEventListener("click",function(t){t.preventDefault(),null!==n._chartModel&&n._chartModel.zoomOut(),n._trackEvent("Zoom Out")}),this._buttons.zoomIn.addEventListener("click",function(t){t.preventDefault(),null!==n._chartModel&&n._chartModel.zoomIn(),n._trackEvent("Zoom In")}),this._boundKeydownHandler=this._keydownHandler.bind(this),this._boundKeyupHandler=this._keyupHandler.bind(this),this._parent.ownerDocument.addEventListener("keydown",this._boundKeydownHandler),this._parent.ownerDocument.addEventListener("keyup",this._boundKeyupHandler)},t.prototype._check=function(){if(null!==this._chartModel&&null!==this._back){var t=this._chartModel.timeScale().rightOffset()<0;t!==this._backButtonVisible&&(this._backButtonVisible=t,this._back.classList.toggle(T,!this._backButtonVisible))}},t.prototype._initVisibility=function(){this._visibilityTypeProperty=Object(s.actualBehavior)(),this._visibilityTypeProperty.subscribe(this,this._onVisibilityTypeChange),this._onVisibilityTypeChange()},t.prototype._onVisibilityTypeChange=function(){if(null!==this._visibilityTypeProperty){var t=this._visibilityTypeProperty.value();"alwaysOn"===t||"alwaysOff"===t?(this._controlBarVisible="alwaysOn"===t,null!==this._boundMouseHandler&&(this._parent.removeEventListener("mousemove",this._boundMouseHandler,!1),this._parent.removeEventListener("mouseleave",this._boundMouseHandler,!1),this._boundMouseHandler=null)):(this._controlBarVisible=!1,this._boundMouseHandler||(this._boundMouseHandler=this._visibilityMouseHandler.bind(this),this._parent.addEventListener("mousemove",this._boundMouseHandler),this._parent.addEventListener("mouseleave",this._boundMouseHandler))),this._updateControlBarVisibility()}},t.prototype._visibilityMouseHandler=function(t){var e,i;t.buttons||null!==this._chartModel&&this._chartModel.lineBeingCreated()||(e=!1,"mousemove"!==t.type&&"mouseleave"!==t.type||null===this._widget||(i=this._widget.getBoundingClientRect(),e=t.clientX>=i.left-100&&t.clientX<=i.right+100&&t.clientY>=i.top-100&&t.clientY<=i.bottom+100),this._controlBarVisible!==e&&(this._controlBarVisible=e,null!==this._controlBar&&null===this._rafId&&(this._rafId=this._controlBar.ownerDocument.defaultView.requestAnimationFrame(this._updateControlBarVisibility.bind(this)))))},t.prototype._updateControlBarVisibility=function(){this._rafId=null,null!==this._controlBar&&this._controlBar.classList.toggle("control-bar--hidden",!this._controlBarVisible)},t.prototype._updateBackBtnPosition=function(){if("left"===this._priceAxisName||"right"===this._priceAxisName){var t=this._chart.getPriceAxisMaxWidthByName(this._priceAxisName)+14;t&&null!==this._back&&(this._back.style.marginRight=t+"px")}},t.prototype._updateBgBarStyle=function(){var t,e,i,n;if(null!==this._chartModel){
for(t=Object(l.getLuminance)(this._chartModel.model().properties().paneProperties.background.value())<.5,e=0,i=Object.values(this._buttons);e<i.length;e++)n=i[e],n.classList.toggle("control-bar__btn--dark",t);null!==this._back&&this._back.classList.toggle("control-bar__btn--dark",t)}},t.prototype._updateBtnGroupVisibility=function(t){var e,i,n,s,o,a;if(null!==this._btnGroups&&(e=[{breakPoint:390,className:"js-btn-group-right"},{breakPoint:290,className:"js-btn-group-left"}],!h.CheckMobile.any()))for(i=0,n=e;i<n.length;i++)s=n[i],o=t<=s.breakPoint,void 0!==(a=this._getBtnGroup(s.className))&&o!==a.classList.contains("js-hidden")&&(a.classList.toggle("js-hidden",o),this._updateControlBarPosition())},t.prototype._getBtnGroup=function(t){if(null!==this._btnGroups)return this._btnGroups.find(function(e){return e.classList.contains(t)})},t.prototype._updateControlBarPosition=function(){var t,e;null!==this._widget&&null!==this._controlBar&&(t=0,e=this._controlBar.querySelectorAll(".js-btn-group:not(.js-hidden)"),t=e.length>0?86*e.length:50,this._widget.style.left="calc(50% - "+Math.ceil(t/2)+"px)")},t.prototype._updateResetScalesButtonVisibility=function(){if(null!==this._chartModel){var t=this._chartModel.model().isScalesResetAvailable();this._buttons.turn.classList.toggle(T,!t)}},t.prototype._move=function(t){var e,i,n,s=this;null!==this._chartModel&&"stop"===this._state&&this._chartModel.beginUndoMacro(1===t?"Move Left":"Move Right"),this._state=x.stop,this._moveType="animated",this._deferredFinishTimeout&&(clearTimeout(this._deferredFinishTimeout),this._deferredFinishTimeout=0),this._finishingTimeout&&(clearTimeout(this._finishingTimeout),this._finishingTimeout=0),this._startTime=Date.now(),0===this._movingTimeout&&(e=this._startTime,i=10,n=function(){s._moveStep(e,0,50*t,1e3),s._movingTimeout=setTimeout(n.bind(s),i)},this._movingTimeout=setTimeout(n.bind(this),i))},t.prototype._moveStep=function(t,e,i,n){var s,o,a;return null===this._chartModel||this._chartModel.timeScale().isEmpty()?void 0:(s=Date.now(),s<t&&(t=s),o=(s-t)/n,(o>1||!isFinite(o))&&(o=1),a=1-Math.pow(1-o,3),this._currentDistance=(i-e)*a+e,this._chartModel.scrollChart(this._currentDistance),o)},t.prototype._finishMove=function(){var t,e,i,n=this;clearTimeout(this._movingTimeout),this._movingTimeout=0,this._deferredFinishTimeout=0,t=this._currentDistance,e=Date.now(),i=function(){var s=n._moveStep(e,t,0,700);s&&s<1?n._finishingTimeout=setTimeout(i.bind(n),10):null!==n._chartModel&&(n._state=x.wait_finishing,n._moveType="",n._movingTimeout=0,n._currentDistance=0,n._chartModel.endUndoMacro())},this._finishingTimeout=setTimeout(i.bind(this),10)},t.prototype._stopMove=function(){"moving"===this._state&&(this._state=x.moving,Date.now()-this._startTime<200?this._deferredFinishTimeout=setTimeout(this._finishMove.bind(this),200-(Date.now()-this._startTime)):this._finishMove())},t.prototype._moveByBar=function(t){var e,i,n,s,o,a,l=this;if(null!==this._chartModel){if(e=this._chartModel.timeScale(),e.isEmpty())return
;"stop"===this._state&&this._chartModel.beginUndoMacro(1===t?"Move Left":"Move Right"),null!==e.visibleBars()&&(i=e.indexToCoordinate(e.visibleBars().lastBar())+e.barSpacing()/2,Math.abs(e.width()-i)>e.barSpacing()/6&&this._chartModel.scrollChart(e.width()-i)),this._state=x.stop,this._moveType="by_bar",this._startTime=Date.now(),this._movingTimeout||(n=0,s=150,o=400,a=function(){l._moveByBarStep(t),n++,s>100&&(s-=n/5*20),l._movingTimeout=setTimeout(a,s)},this._movingTimeout=setTimeout(a,o),this._moveByBarStep(t))}},t.prototype._moveByBarStep=function(t){if(null!==this._chartModel){if(this._chartModel.timeScale().isEmpty())return;this._chartModel.scrollChartByBar(t)}},t.prototype._stopMoveByBar=function(){"moving"===this._state&&(clearTimeout(this._movingTimeout),this._movingTimeout=0,this._state=x.wait_finishing,this._moveType="",this._movingTimeout=0,this._currentDistance=0,null!==this._chartModel&&this._chartModel.endUndoMacro())},t.prototype._keydownHandler=function(t){var e,i;t.metaKey||37!==(e=t.which)&&39!==e||this._pressedKey[e]||(this._pressedKey[e]=!0,t.target.closest("input, textarea")||(i=37===e?1:-1,t.ctrlKey||t.altKey?this._move(i):this._moveByBar(i),t.preventDefault()))},t.prototype._keyupHandler=function(t){var e=t.which;37!==e&&39!==e||t.target.closest("input, textarea")||(this._pressedKey[t.which]=!1,"by_bar"===this._moveType?this._stopMoveByBar():this._stopMove())},t.prototype._trackEvent=function(t){},t}()},855:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.5 1.5L3.5 7l5 5.5"/></svg>'},954:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.5 1.5l5 5.5-5 5.5"/></svg>'},957:function(t,e,i){"use strict";function n(t){return"alwaysOn"===t||"alwaysOff"===t?t:"visibleOnMouseOver"}function s(){if(!u){var t="NavigationButtons.visibility";u=new h.a,u.setValue(n(d.getValue(t))),u.subscribe(u,function(e){d.setValue(t,n(e.value()))})}return u}function o(){return[{value:"visibleOnMouseOver",title:window.t("Visible on Mouse Over")},{value:"alwaysOn",title:window.t("Always Visible")},{value:"alwaysOff",title:window.t("Always Invisible")}]}function a(){var t,e;return c||(c=new h.a,t=s(),e=function(){var e=t.value();"alwaysOn"!==e&&"alwaysOff"!==e&&(e=Modernizr.touch?"alwaysOn":"visibleOnMouseOver"),c&&c.setValue(e)},t.subscribe(c,e),e()),c}var l,r,h,d,u,c;Object.defineProperty(e,"__esModule",{value:!0}),e.property=s,e.availableValues=o,e.actualBehavior=a,i(11),l=i(123),i.n(l),r=i(12),h=i.n(r),d=i(48),i.n(d)}});